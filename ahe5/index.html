<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß† GAME ASAHI OTAK ANAK üß†</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Comic+Neue:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Neue', cursive;
            background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 25%, #fecfef 75%, #ff9a9e 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Latar belakang animasi anak-anak */
        .bg-anim {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-balloon {
            position: absolute;
            font-size: 40px;
            animation: floatUp 8s infinite linear;
        }

        .star-twinkle {
            position: absolute;
            font-size: 25px;
            color: #ffd700;
            animation: twinkle 2s infinite;
        }

        .cloud-float {
            position: absolute;
            font-size: 35px;
            animation: cloudFloat 15s infinite linear;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.3); }
        }

        @keyframes cloudFloat {
            0% { transform: translateX(-150px); }
            100% { transform: translateX(110vw); }
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Menu Awal */
        .start-menu {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 40px;
            padding: 60px 40px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            animation: bounceInMenu 1s ease;
        }

        @keyframes bounceInMenu {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }

        .start-title {
            font-family: 'Fredoka One', cursive;
            font-size: 3.5em;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            text-shadow: 3px 3px 0px rgba(255,255,255,0.8);
        }

        .menu-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 1.6em;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px;
            font-weight: bold;
            font-family: 'Comic Neue', cursive;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            min-width: 200px;
        }

        .menu-btn:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .menu-btn.exit {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
        }

        .menu-btn.start {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            font-size: 1.8em;
            padding: 25px 60px;
        }

        /* Game Interface */
        .game-interface {
            display: none;
        }

        .header-game {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-title {
            font-family: 'Fredoka One', cursive;
            font-size: 2.8em;
            color: #ff6b6b;
            text-shadow: 3px 3px 0px #fff;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: rgba(255,255,255,0.9);
            border-radius: 25px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .stat-box {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .stat-label {
            font-size: 1.1em;
            color: #2c3e50;
        }

        .question-container {
            background: rgba(255,255,255,0.95);
            border-radius: 35px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.1);
            text-align: center;
        }

        .question-text {
            font-size: 2em;
            color: #2c3e50;
            margin-bottom: 35px;
            line-height: 1.4;
            animation: fadeInUp 0.8s ease;
        }

        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .option-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 25px;
            font-size: 1.5em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: bold;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.7s;
        }

        .option-btn:hover::before {
            left: 100%;
        }

        .option-btn:hover {
            transform: translateY(-12px) scale(1.05);
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .option-btn.correct {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            animation: celebrate 0.8s ease;
        }

        .option-btn.wrong {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
            animation: shakeX 0.6s ease;
        }

        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.2) rotate(10deg); }
            100% { transform: scale(1); }
        }

        @keyframes shakeX {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .control-buttons {
            text-align: center;
        }

        .control-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.4em;
            border-radius: 50px;
            cursor: pointer;
            margin: 10px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            min-width: 180px;
        }

        .control-btn:hover {
            transform: scale(1.08);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .control-btn.reset {
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
        }

        .control-btn.exit {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
        }

        /* Game Over */
        .game-over-screen {
            display: none;
            text-align: center;
            background: linear-gradient(135deg, rgba(255,215,0,0.95), rgba(255,165,0,0.95));
            border-radius: 40px;
            padding: 60px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            animation: bounceInMenu 1s ease;
        }

        .final-score {
            font-size: 2.5em;
            color: #2c3e50;
            margin: 20px 0;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .start-title { font-size: 2.5em; }
            .game-title { font-size: 2.2em; }
            .question-text { font-size: 1.6em; }
            .options-grid { grid-template-columns: 1fr; }
            .stats-bar { flex-direction: column; gap: 15px; }
        }
    </style>
</head>
<body>
    <!-- Latar belakang animasi -->
    <div class="bg-anim" id="bgAnimation"></div>

    <div class="container">
        <!-- Menu Awal -->
        <div class="start-menu" id="startMenu">
            <h1 class="start-title">üéâ GAME ASAHI OTAK üéâ<br>UNTUK ANAK-ANAK üß†</h1>
            <button class="menu-btn start" onclick="game.startGame()">üöÄ MULAI GAME</button>
            <br>
            <button class="menu-btn exit" onclick="game.exitGame()">üö™ KELUAR</button>
        </div>

        <!-- Game Interface -->
        <div class="game-interface" id="gameInterface">
            <div class="header-game">
                <h2 class="game-title">üß† ASAHI OTAK ANAK üß†</h2>
                <div class="stats-bar">
                    <div class="stat-box">
                        <div class="stat-number" id="currentScore">0</div>
                        <div class="stat-label">SKOR</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="currentQuestion">1</div>
                        <div class="stat-label">SOAL</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="livesLeft">3</div>
                        <div class="stat-label">NYAWA ‚ù§Ô∏è</div>
                    </div>
                </div>
            </div>

            <div class="question-container" id="questionContainer">
                <div class="question-text" id="questionText">Pilih tombol untuk memulai!</div>
                <div class="options-grid" id="optionsGrid"></div>
            </div>

            <div class="control-buttons">
                <button class="control-btn" id="nextBtn" onclick="game.nextQuestion()" style="display: none;">
                    ‚û°Ô∏è SOAL SELANJUTNYA ‚û°Ô∏è
                </button>
                <button class="control-btn reset" onclick="game.resetGame()">
                    üîÑ ULANG GAME
                </button>
                <button class="control-btn exit" onclick="game.exitGame()">
                    üö™ KELUAR
                </button>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div class="game-over-screen" id="gameOverScreen">
            <h2 id="finalMessage">SELAMAT! üéâ</h2>
            <div class="final-score" id="finalScoreDisplay">Skor: 0/10</div>
            <button class="menu-btn start" onclick="game.startGame()">üîÑ MAIN LAGI</button>
            <br>
            <button class="menu-btn exit" onclick="game.exitGame()">üö™ KELUAR</button>
        </div>
    </div>

    <script>
        // PBO - Class Utama Game
        class Game {
            constructor() {
                this.score = 0;
                this.currentQuestionIndex = 0;
                this.lives = 3;
                this.isGameActive = false;
                this.questions = [
                    {
                        question: "üê∞ Berapa hasil dari 4 + 5?",
                        options: ["A. 7", "B. 5", "C. 9 ‚úÖ", "D. 2"],
                        correct: 2
                    },
                    {
                        question: "üë©‚Äçüè´ Siapa guru di AHE Hegarmukti?",
                        options: ["A. Bu Aul & Bu Furry ‚úÖ", "B. Bu Intan & Bu Ani", "C. Bu Ferra & Bu Rally", "D. Bu Ani & Bu Silvy"],
                        correct: 0
                    },
                    {
                        question: "üßÆ Berapa 8 + 2 sama dengan?",
                        options: ["A. 2", "B. 5", "C. 10 ‚úÖ", "D. 3"],
                        correct: 2
                    },
                    {
                        question: "‚öΩ Mana yang bentuknya lingkaran?",
                        options: ["A. Bola ‚úÖ", "B. Kursi", "C. Meja", "D. Pensil"],
                        correct: 0
                    },
                    {
                        question: "‚ûñ Berapa 10 - 5?",
                        options: ["A. 3", "B. 5 ‚úÖ", "C. 2", "D. 7"],
                        correct: 1
                    },
                    {
                        question: "üçé Berapa 3 + 4?",
                        options: ["A. 6", "B. 7 ‚úÖ", "C. 5", "D. 8"],
                        correct: 1
                    },
                    {
                        question: "üêò Hewan apa yang besar?",
                        options: ["A. Semut", "B. Kucing", "C. Gajah ‚úÖ", "D. Burung"],
                        correct: 2
                    }
                ];
                this.audioManager = new AudioManager();
                this.backgroundAnimator = new BackgroundAnimator();
                this.init();
            }

            init() {
                this.createBackgroundElements();
                this.updateDisplay();
                this.audioManager.playWelcome();
            }

            startGame() {
                this.isGameActive = true;
                this.shuffleQuestions();
                this.score = 0;
                this.lives = 3;
                this.currentQuestionIndex = 0;
                
                document.getElementById('startMenu').style.display = 'none';
                document.getElementById('gameInterface').style.display = 'block';
                document.getElementById('gameOverScreen').style.display = 'none';
                
                this.renderCurrentQuestion();
                this.audioManager.playStart();
            }

            shuffleQuestions() {
                for (let i = this.questions.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [this.questions[i], this.questions[j]] = [this.questions[j], this.questions[i]];
                }
            }

            renderCurrentQuestion() {
                if (this.currentQuestionIndex >= this.questions.length) {
                    this.gameOver();
                    return;
                }

                const question = this.questions[this.currentQuestionIndex];
                document.getElementById('questionText').textContent = question.question;
                
                const optionsGrid = document.getElementById('optionsGrid');
                optionsGrid.innerHTML = '';
                
                question.options.forEach((option, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.textContent = option;
                    btn.onclick = () => this.handleAnswer(index);
                    optionsGrid.appendChild(btn);
                });

                this.updateDisplay();
                document.getElementById('nextBtn').style.display = 'none';
            }

            handleAnswer(selectedIndex) {
                if (!this.isGameActive) return;

                const correctIndex = this.questions[this.currentQuestionIndex].correct;
                const buttons = document.querySelectorAll('.option-btn');
                
                buttons.forEach((btn, index) => {
                    btn.disabled = true;
                    if (index === correctIndex) {
                        btn.classList.add('correct');
                    } else if (index === selectedIndex && index !== correctIndex) {
                        btn.classList.add('wrong');
                        this.lives--;
                    }
                });

                if (selectedIndex === correctIndex) {
                    this.score += 2;
                    this.audioManager.playCorrect();
                } else {
                    this.audioManager.playWrong();
                }

                this.updateDisplay();

                if (this.lives <= 0 || this.currentQuestionIndex >= this.questions.length - 1) {
                    setTimeout(() => this.gameOver(), 2000);
                } else {
                    setTimeout(() => {
                        document.getElementById('nextBtn').style.display = 'inline-block';
                    }, 1500);
                }
            }

            nextQuestion() {
                this.currentQuestionIndex++;
                this.renderCurrentQuestion();
            }

            resetGame() {
                this.score = 0;
                this.lives = 3;
                this.currentQuestionIndex = 0;
                this.shuffleQuestions();
                this.renderCurrentQuestion();
                this.audioManager.playReset();
            }

            gameOver() {
                this.isGameActive = false;
                document.getElementById('gameInterface').style.display = 'none';
                document.getElementById('gameOverScreen').style.display = 'block';
                
                const finalScoreEl = document.getElementById('finalScoreDisplay');
                const finalMessageEl = document.getElementById('finalMessage');
                
                finalScoreEl.textContent = `Skor Akhir: ${this.score}/${this.questions.length * 2}`;
                
                if (this.score >= 12) {
                    finalMessageEl.textContent = 'üèÜ JUARA KELAS! PERFECT! üèÜ';
                } else if (this.score >= 8) {
                    finalMessageEl.textContent = '‚≠ê SANGAT BAGUS! ‚≠ê';
                } else if (this.score >= 5) {
                    finalMessageEl.textContent = 'üëç BAGUS! Terus Berlatih üëç';
                } else {
                    finalMessageEl.textContent = 'üí™ SEMANGAT BELAJAR LAGI! üí™';
                }
                
                this.audioManager.playGameOver();
            }

            exitGame() {
                if (confirm('Yakin mau keluar dari game? üòä')) {
                    this.audioManager.playExit();
                    window.close();
                }
            }

            updateDisplay() {
                document.getElementById('currentScore').textContent = this.score;
                document.getElementById('currentQuestion').textContent = this.currentQuestionIndex + 1;
                document.getElementById('livesLeft').textContent = this.lives;
            }

            createBackgroundElements() {
                this.backgroundAnimator.createElements();
            }
        }

        // PBO - Class AudioManager
        class AudioManager {
            constructor() {
                this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }

            playWelcome() {
                this.playMelody([392, 440, 494, 523], 0.3);
            }

            playStart() {
                this.playMelody([523, 659, 784, 659], 0.4);
            }

            playCorrect() {
                this.playMelody([659, 784, 932, 1047], 0.3);
            }

            playWrong() {
                this.playTone(392, 0.5, 0, 'sine', 0.2);
                this.playTone(349, 0.5, 0.2, 'sine', 0.2);
            }

            playReset() {
                this.playMelody([440, 494, 523, 494], 0.2);
            }

            playGameOver() {
                this.playMelody([523, 494, 440, 392], 0.6);
            }

            playExit() {
                this.playTone(196, 1, 0, 'sine', 0.1);
            }

            playMelody(notes, duration) {
                notes.forEach((note, index) => {
                    setTimeout(() => {
                        this.playTone(note, duration, 0, 'sine', 0.3);
                    }, index * 200);
                });
            }

            playTone(frequency, duration, delay, type = 'sine', volume = 0.3) {
                const oscillator = this.audioCtx.createOscillator();
                const gainNode = this.audioCtx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(this.audioCtx.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = type;
                
                gainNode.gain.setValueAtTime(volume, this.audioCtx.currentTime + delay);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioCtx.currentTime + delay + duration);
                
                oscillator.start(this.audioCtx.currentTime + delay);
                oscillator.stop(this.audioCtx.currentTime + delay + duration);
            }
        }

        // PBO - Class BackgroundAnimator
        class BackgroundAnimator {
            constructor() {
                this.container = document.getElementById('bgAnimation');
            }

            createElements() {
                // Balon
                for (let i = 0; i < 8; i++) {
                    const balloon = document.createElement('div');
                    balloon.className = 'floating-balloon';
                    balloon.innerHTML = ['üéà', 'üéä', 'üéâ', '‚≠ê'][Math.floor(Math.random() * 4)];
                    balloon.style.left = Math.random() * 100 + '%';
                    balloon.style.animationDelay = Math.random() * 8 + 's';
                    balloon.style.animationDuration = (6 + Math.random() * 4) + 's';
                    this.container.appendChild(balloon);
                }

                // Bintang
                for (let i = 0; i < 30; i++) {
                    const star = document.createElement('div');
                    star.className = 'star-twinkle';
                    star.innerHTML = '‚ú®';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 2 + 's';
                    this.container.appendChild(star);
                }

                // Awan
                for (let i = 0; i < 6; i++) {
                    const cloud = document.createElement('div');
                    cloud.className = 'cloud-float';
                    cloud.innerHTML = '‚òÅÔ∏è';
                    cloud.style.top = (10 + Math.random() * 30) + '%';
                    cloud.style.animationDelay = Math.random() * 15 + 's';
                    cloud.style.animationDuration = (12 + Math.random() * 8) + 's';
                    this.container.appendChild(cloud);
                }
            }
        }

        // Inisialisasi Game (Single Instance)
        const game = new Game();
    </script>
</body>
</html>
